<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Watch Together - Create or Join Rooms</title>
    <meta name="description" content="Create your own watch party room or join existing ones. Watch videos together with friends in real-time.">
    
    <!-- Preconnect for performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <!-- Modern Typography -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üé¨</text></svg>">
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="stylesheet" href="/css/home.css">
</head>
<body class="home-page">
    <!-- Header -->
    <header class="home-header">
        <div class="container">
            <div class="logo">
                <i class="fas fa-video"></i>
                <span>Watch Together</span>
            </div>
            <nav class="nav-links">
                <a href="#features">Features</a>
                <a href="#about">About</a>
                <a href="/login.html" class="login-btn">Login</a>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <div class="hero-content">
                <h1>üè† HOME PAGE - Watch Videos Together</h1>
                <p><strong>‚úÖ You're on the HOME page!</strong> Create your own room and invite friends to watch videos in perfect sync. Chat, laugh, and enjoy content together, no matter the distance.</p>
                
                <div class="action-buttons">
                    <button class="create-room-btn" id="create-room-btn">
                        <i class="fas fa-plus"></i>
                        Create Room & Invite Friends
                    </button>
                    <button class="join-room-btn" id="join-room-btn">
                        <i class="fas fa-sign-in-alt"></i>
                        Join Room
                    </button>
                </div>
                
                <div class="hero-features">
                    <div class="feature-highlight">
                        <i class="fas fa-share-alt"></i>
                        <span>Instant sharing with room codes</span>
                    </div>
                    <div class="feature-highlight">
                        <i class="fas fa-users"></i>
                        <span>Unlimited friends can join</span>
                    </div>
                    <div class="feature-highlight">
                        <i class="fas fa-lock"></i>
                        <span>Private & secure rooms</span>
                    </div>
                </div>

                <div class="quick-access">
                    <p class="quick-access-label">Have a room code? Join instantly:</p>
                    <div class="room-code-input">
                        <input type="text" id="room-code-input" placeholder="Enter room code..." maxlength="8">
                        <button id="join-by-code-btn">
                            <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="hero-visual">
                <div class="mockup-container">
                    <div class="mockup-screen">
                        <div class="mockup-video">
                            <i class="fas fa-play"></i>
                        </div>
                        <div class="mockup-chat">
                            <div class="chat-message">
                                <span>Mehdi:</span> This is amazing!
                            </div>
                            <div class="chat-message">
                                <span>Abdo:</span> Let's watch the next episode
                            </div>
                            <div class="chat-message">
                                <span>Dahman:</span> üçø Ready!
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section id="features" class="features">
        <div class="container">
            <h2>Why Choose Watch Together?</h2>
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-sync"></i>
                    </div>
                    <h3>Perfect Sync</h3>
                    <p>Videos play in perfect synchronization for all participants. Pause, play, and seek together.</p>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-comments"></i>
                    </div>
                    <h3>Live Chat</h3>
                    <p>React and discuss in real-time with built-in chat. Share your thoughts as the story unfolds.</p>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <h3>Private Rooms</h3>
                    <p>Create private rooms for your friends. Share the room code and start watching together instantly.</p>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-video"></i>
                    </div>
                    <h3>Multiple Sources</h3>
                    <p>Support for YouTube videos, direct video links (MP4, WebM), and more platforms coming soon.</p>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-mobile-alt"></i>
                    </div>
                    <h3>Cross-Platform</h3>
                    <p>Works on desktop, tablet, and mobile. Watch together from any device with a web browser.</p>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                    <h3>Secure & Private</h3>
                    <p>Your rooms are private and secure. No registration required, just create and share the code.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Recent Rooms (if user has any) -->
    <section class="recent-rooms hidden" id="recent-rooms">
        <div class="container">
            <h2>Your Recent Rooms</h2>
            <div class="rooms-grid" id="rooms-grid">
                <!-- Recent rooms will be populated here -->
            </div>
        </div>
    </section>

    <!-- Create Room Modal -->
    <div class="modal" id="create-room-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-plus-circle"></i> Create New Room</h2>
                <button class="close-btn" id="close-create-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="room-name">Room Name</label>
                    <input type="text" id="room-name" placeholder="e.g., Movie Night with Friends" maxlength="50">
                </div>
                
                <div class="form-group">
                    <label for="room-description">Description (Optional)</label>
                    <textarea id="room-description" placeholder="What are you planning to watch?" maxlength="200"></textarea>
                </div>
                
                <div class="form-group">
                    <label for="username-create">Your Display Name</label>
                    <input type="text" id="username-create" placeholder="Your name..." maxlength="20">
                </div>
                
                <div class="privacy-settings">
                    <h4>Privacy Settings</h4>
                    <label class="checkbox-label">
                        <input type="checkbox" id="room-private" checked>
                        <span class="checkmark"></span>
                        Private Room (requires room code to join)
                    </label>
                </div>
            </div>
            <div class="modal-footer">
                <button class="secondary-btn" id="cancel-create-btn">Cancel</button>
                <button class="primary-btn" id="confirm-create-btn">
                    <i class="fas fa-rocket"></i>
                    Create Room
                </button>
            </div>
        </div>
    </div>

    <!-- Room Created Success Modal -->
    <div class="modal" id="room-created-modal">
        <div class="modal-content success-modal">
            <div class="modal-header">
                <button class="close-btn" id="close-success-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="success-content">
                    <div class="room-info-card">
                        <h3 id="created-room-name">Room Name</h3>
                        <p id="created-room-description">Room Description</p>
                    </div>
                    
                    <div class="invite-section">
                        <h4><i class="fas fa-share-alt"></i> Share Your Room</h4>                        
                        <div class="share-options">
                            <div class="room-code-share">
                                <label>Room Code:</label>
                                <div class="copy-field">
                                    <input type="text" id="created-room-code" readonly>
                                    <button class="copy-btn" data-copy="code">
                                        <i class="fas fa-copy"></i>
                                        Copy
                                    </button>
                                </div>
                            </div>
                            
                            <div class="room-link-share">
                                <label>Direct Link:</label>
                                <div class="copy-field">
                                    <input type="text" id="created-room-link" readonly>
                                    <button class="copy-btn" data-copy="link">
                                        <i class="fas fa-copy"></i>
                                        Copy
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="share-buttons">
                            <button class="share-btn whatsapp-btn" id="share-whatsapp">
                                <i class="fab fa-whatsapp"></i>
                                WhatsApp
                            </button>
                            <button class="share-btn discord-btn" id="share-discord">
                                <i class="fab fa-discord"></i>
                                Discord
                            </button>
                            <button class="share-btn email-btn" id="share-email">
                                <i class="fas fa-envelope"></i>
                                Email
                            </button>
                            <button class="share-btn twitter-btn" id="share-twitter">
                                <i class="fab fa-x-twitter"></i>
                                X
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="secondary-btn" id="stay-home-btn">Stay on Home</button>
                <button class="primary-btn" id="enter-room-btn">
                    <i class="fas fa-door-open"></i>
                    Enter Room Now
                </button>
            </div>
        </div>
    </div>

    <!-- Join Room Modal -->
    <div class="modal" id="join-room-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-sign-in-alt"></i> Join Room</h2>
                <button class="close-btn" id="close-join-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="join-room-code">Room Code</label>
                    <input type="text" id="join-room-code" placeholder="Enter 8-character room code" maxlength="8" class="uppercase">
                </div>
                
                <div class="form-group">
                    <label for="username-join">Your Display Name</label>
                    <input type="text" id="username-join" placeholder="Your name..." maxlength="20">
                </div>
                
                <div class="room-preview hidden" id="room-preview">
                    <h4>Room Details</h4>
                    <div class="room-info">
                        <div class="room-name-preview"></div>
                        <div class="room-description-preview"></div>
                        <div class="room-participants"></div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="secondary-btn" id="cancel-join-btn">Cancel</button>
                <button class="primary-btn" id="confirm-join-btn">
                    <i class="fas fa-door-open"></i>
                    Join Room
                </button>
            </div>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div class="loading-overlay hidden" id="loading-overlay">
        <div class="loading-content">
            <div class="spinner"></div>
            <p id="loading-text">Creating your room...</p>
        </div>
    </div>

    <!-- Scripts -->
    <script src="/socket.io/socket.io.js"></script>
    <script src="/js/main.js"></script>
    <script src="/js/home.js"></script>
    <script src="/js/auth-helper.js"></script>
</body>
</html>
